<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"/><meta name="generator" content="Hugo 0.148.2"/><title>Week 1: Memory-based attacks | Hugo Apéro</title><meta property="twitter:site" content="@michael_w_hicks"/><meta property="twitter:creator" content="@michael_w_hicks"/><meta name="description" content="A modern, beautiful, and easily configurable blog theme for Hugo."/><meta property="og:site_name" content="Hugo Apéro"/><meta property="og:title" content="Week 1: Memory-based attacks | Hugo Apéro"/><meta property="og:description" content="A modern, beautiful, and easily configurable blog theme for Hugo."/><meta property="og:type" content="page"/><meta property="og:url" content="https://mhicks.me/course/software-security-content/week1/"/><meta property="og:locale" content="en"/><meta property="og:image" content="https://mhicks.me/img/papillons.jpg"/><meta property="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="https://mhicks.me/img/papillons.jpg"/><meta itemprop="name" content="Week 1: Memory-based attacks"/><meta itemprop="description" content="We will begin our discussion of software security by understanding one of the oldest and pernicious attacks against software: the buffer overflow. We will see how buffer overflows are one kind of memory-based attack that low-level software (written in C and/or C++, primarily) is susceptible to, and we will consider other memory-based attacks as well. Your project for this week will be to construct a simple exploit of a buffer overflow, to see how it works."/><meta itemprop="datePublished" content="2015-01-01T00:00:00+00:00"/><meta itemprop="dateModified" content="2015-01-01T00:00:00+00:00"/><meta itemprop="wordCount" content="948"/><!--[if IE]&gt;&lt;script src=//html5shiv.googlecode.com/svn/trunk/html5.js&gt;&lt;/script&gt;&lt;![endif]--><link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon"/><link rel="icon" href="img/favicon.ico" type="image/x-icon"/><link rel="stylesheet" href="/style.main.min.258343044ddfb33c72268535d36d8d42ea11af827560eaf11cebadca3821dcaa.css" integrity="sha256-JYNDBE3fszxyJoU1022NQuoRr4J1YOrxHOutyjgh3Ko=" media="screen"/><script src="/panelset.min.ed1ac24b6e16f4e2481e3d1d098ae66f5bc77438aef619e6e266d8ac5b00dc72.js" type="text/javascript"></script><script src="/main.min.f3557139a19a73c40c3108b6302a28f27b1c34f3306c920221b3f006123e37ce.js" type="text/javascript"></script></head><body><div class="grid-container single"><header class="site-header pt4 pb2 mb4 bb b--transparent ph5 headroom z-max" role="banner"><nav class="site-nav db dt-l w-100" role="navigation"><a class="site-brand db dtc-l v-mid link no-underline w-100 w-33-l tc tl-l" href="https://mhicks.me/" title="Home"><i class="fas fa-home fa-2x"></i></a><div class="site-links db dtc-l v-mid w-100 w-47-l tc tr-l mt3 mt0-l ttu tracked"><a class="link f6 f5-l dib pv1 ph2" href="/about/" title="About Mike">About</a>
<a class="link f6 f5-l dib pv1 ph2" href="/blog/" title="Blog">Blog</a>
<a class="link f6 f5-l dib pv1 ph2" href="/research/" title="Research">Research</a>
<a class="link f6 f5-l dib pv1 ph2" href="/publication/" title="Publications">Publications</a>
<a class="link f6 f5-l dib pv1 ph2 active" href="/course/" title="Courses">Courses</a></div></nav></header><main class="page-main pa4" role="main"><section class="page-content mw7 center"><article class="post-content pa0 ph4-l"><header class="post-header"><h1 class="f1 lh-solid measure-narrow mb3 fw4">Week 1: Memory-based attacks</h1><p class="f6 measure lh-copy mv1">By Mike Hicks</p><p class="f7 db mv0 ttu">January 1, 2015</p></header><section class="post-body pt5 pb4"><p>We will begin our discussion of software security by understanding one of the oldest and pernicious attacks against software: the buffer overflow. We will see how buffer overflows are one kind of memory-based attack that low-level software (written in C and/or C++, primarily) is susceptible to, and we will consider other memory-based attacks as well. Your project for this week will be to construct a simple exploit of a buffer overflow, to see how it works.</p><p>If you have not done so, please watch the
<a href="/course/software-security/">preparatory material from Week 0</a>.</p><h2 id="learning-objectives">Learning Objectives
<a href="#learning-objectives"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22"><path d="M0 0h24v24H0z" fill="currentColor"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>After the completion of this week’s material (including the project, due at the end of next week), you will be able to:</p><ul><li>Understand the standard memory layout of running processes on the Intel x86 architecture</li><li>Identify buffer overflows and related memory-based vulnerabilities in C programs, such as those based on format strings</li><li>Construct a simple exploit of a buffer overflow</li><li>Understand how exploits can inject remote code, and perform other security compromises</li></ul><h2 id="video-lectures">Video Lectures
<a href="#video-lectures"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22"><path d="M0 0h24v24H0z" fill="currentColor"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><ul><li><a href="https://youtu.be/3BqiTEwz1I0" target="_blank" rel="noopener">Low-Level Security: Introduction</a> (7:35)</li><li><a href="https://youtu.be/msUPyCtJPSw" target="_blank" rel="noopener">Memory Layout</a> (11:16)</li><li><a href="https://youtu.be/x8thu1AOsX8" target="_blank" rel="noopener">Buffer Overflow</a> (6:23)</li><li><a href="https://youtu.be/nNBKed5C3AM" target="_blank" rel="noopener">Code Injection</a> (6:15)</li><li><a href="https://youtu.be/AaCySH-jD3g" target="_blank" rel="noopener">Other Memory Exploits</a> (11:52)</li><li><a href="https://youtu.be/ykMdLCURWFk" target="_blank" rel="noopener">Format String Vulnerabilities</a> (6:43)</li></ul><h2 id="readings">Readings
<a href="#readings"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22"><path d="M0 0h24v24H0z" fill="currentColor"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><h3 id="required-reading">Required reading
<a href="#required-reading"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22"><path d="M0 0h24v24H0z" fill="currentColor"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h3><p>The required reading this week is the following:</p><ul><li><a href="https://security.web.cern.ch/security/recommendations/en/codetools/c.shtml" target="_blank" rel="noopener">Common vulnerabilities guide for C programmers</a>. Take note of the unsafe C library functions listed here, and how they are the source of buffer overflow vulnerabilities. This list will be relevant for the project and this week’s quiz.</li><li>(Reference)
<a href="http://www.geeksforgeeks.org/memory-layout-of-c-program/" target="_blank" rel="noopener">Memory layout</a>. Explains a C program’s memory layout, replicating the discussion in the second lecture.</li></ul><h3 id="supplemental-readings">Supplemental readings
<a href="#supplemental-readings"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22"><path d="M0 0h24v24H0z" fill="currentColor"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h3><p>The following readings are optional: They are meant to supplement the material you are getting in the videos. Check them out if you are interested in learning more, or if you just want to see it all explained in a different way.</p><ul><li><a href="http://arstechnica.com/security/2015/08/how-security-flaws-work-the-buffer-overflow/" target="_blank" rel="noopener">How buffer overflows work</a>. This article does a great job of walking you through how stack smashing works, and also talks about some defenses against it, which are covered in more depth in next week’s materials.</li><li>(Reference/refresher)
<a href="https://pacman128.github.io/pcasm/" target="_blank" rel="noopener">PC Assembly Language</a>, by Paul Carter. This free book introduces x86 assembly, and should complement ideas seen in the lectures.</li><li><a href="http://insecure.org/stf/smashstack.html" target="_blank" rel="noopener">Smashing the Stack for Fun and Profit</a> - original article on the topic by Aleph One, in 1996</li><li><a href="https://cs155.stanford.edu/papers/formatstring-1.2.pdf" target="_blank" rel="noopener">Exploiting Format String Vulnerabilities</a> - report describing these format string attacks when they were first recognized;
<a href="https://medium.com/swlh/binary-exploitation-format-string-vulnerabilities-70edd501c5be" target="_blank" rel="noopener">more recent articles</a> present alternative descriptions</li><li><a href="http://phrack.org/issues/60/10.html" target="_blank" rel="noopener">Basic Integer Overflows</a> - discussion of how overflowing integers can be a vector of attack</li></ul><h2 id="project">Project
<a href="#project"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22"><path d="M0 0h24v24H0z" fill="currentColor"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>The
<a href="../project1">first project</a> is on exploiting buffer overflows; it is due in three weeks, just prior to the start of week 4. You will complete the work for the project on your own computer, and then take the
<a href="/courses/software-security/assets/week1_BOF_quiz.docx">on-line assessment</a> to show that you’ve done so.</p><h2 id="quiz">Quiz
<a href="#quiz"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22"><path d="M0 0h24v24H0z" fill="currentColor"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>The
<a href="/course/software-security/assets/week1_quiz.docx">quiz for this week</a> covers all of the material for this week, and the introductory material from last week, so do not forget to view that too.</p><h2 id="notes-made-in-2020-on-course-content">Notes (made in 2020) on Course Content
<a href="#notes-made-in-2020-on-course-content"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22"><path d="M0 0h24v24H0z" fill="currentColor"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><h3 id="buffer-overflows-and-other-violations-of-memory-safety">Buffer Overflows and Other Violations of Memory Safety
<a href="#buffer-overflows-and-other-violations-of-memory-safety"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22"><path d="M0 0h24v24H0z" fill="currentColor"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h3><p>Unfortunately, despite it now being 5 years since these lectures were recorded, <strong>buffer overflow-style vulnerabilities are still a real problem</strong>. In the slides we showed a graph from the national vulnerability database (NVD) that ended in 2014; the NVD site allows you to
<a href="https://nvd.nist.gov/vuln/search/statistics?form_type=Advanced&amp;results_type=statistics&amp;search_type=all&amp;cwe_id=CWE-119" target="_blank" rel="noopener">graph the prevalence of CWE 119 (the one for buffer overflows)</a> to the present day. We can see that the percentage and total of these vulnerabilities declined in 2019 and 2020, but they are still relatively frequent. And, they are quite dangerous, due to the potential for an attacker to remotely inject code. They can still appear in commonly-used applications, too; e.g.,
<a href="https://nvd.nist.gov/vuln/detail/CVE-2020-1594" target="_blank" rel="noopener">CVE-2020-1594</a> considers a dangerous buffer overflow vulnerability in Microsoft Excel.</p><p>The lectures and the project consider a 32-bit Intel architecture. Today, <strong>64-bit architectures</strong> are essentially universal, but the principles and problems still apply. For example,
<a href="https://thesquareplanet.com/blog/smashing-the-stack-21st-century/" target="_blank" rel="noopener"><strong>stack smashing is still possible</strong></a>. That said, some defenses should be more effective on 64-bit machines than they were on 32-bit ones (see next week’s lecture).</p><p>Format string attacks are about as common now as they were in 2015, while <strong>use-after-free (UAF) vulnerabilities are ticking up</strong>, which we can see from the
<a href="https://nvd.nist.gov/vuln/search/statistics?form_type=Advanced&amp;results_type=statistics&amp;search_type=all&amp;cwe_id=CWE-416" target="_blank" rel="noopener">NVD graph of CWE 416</a>, which is just one CWE type of temporal safety-violating exploit. We mentioned UAF vulnerabilities briefly, but did not discuss how they are exploited. Using a type-safe (or memory-safe) language prevents them.</p><p>Why are these vulnerabilities still common? Because the <strong>C and C++ programming languages are still popular</strong>. The
<a href="https://spectrum.ieee.org/at-work/tech-careers/top-programming-language-2020" target="_blank" rel="noopener">IEEE Spectrum ranking places them at #3 and #4</a> on its top-50 languages list. As cyber-physical systems have become more prevalent (as have “Internet of Things” or IOT apps), more legacy C/C++ code is being network connected, creating more memory-unsafe attack surface.</p><h3 id="big-news-spectre-and-meltdown">Big news: Spectre and Meltdown!
<a href="#big-news-spectre-and-meltdown"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22"><path d="M0 0h24v24H0z" fill="currentColor"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h3><p>In January 2018, the world was shocked by the revelation of the
<a href="https://spectreattack.com/" target="_blank" rel="noopener">Spectre and Meltdown bugs</a>, which are hardware vulnerabilities that were (or still are) present in many popular modern processors. Exploitation of these vulnerabilities would allow a program to steal data which that program should not be allowed to access (e.g., from the OS or another program running on the same machine).</p><p>Both attacks involve the use of
<a href="https://en.wikipedia.org/wiki/Side-channel_attack" target="_blank" rel="noopener"><strong>side channels</strong></a>. Spectre observes side effects of
<a href="https://en.wikipedia.org/wiki/Speculative_execution" target="_blank" rel="noopener">speculative execution</a>, a common means of hiding memory latency and so speeding up execution in modern microprocessors. Meltdown specifically targets memory isolation hardware. The challenge is that many features that aim to optimize performance in the common case can be exploited to reveal information by systematically tilting the scales to the rare case. While mitigations to both processors and operating systems have now been deployed, this
<a href="https://dl.acm.org/doi/abs/10.1145/3373376.3378453" target="_blank" rel="noopener">vector of attack (side channels in hardware) is, unfortunately, not likely to go away soon</a>.</p><details closed="" class="f6 fw7 input-reset"><dl class="f6 lh-copy"><dt class="fw7">Posted on:</dt><dd class="fw5 ml0">January 1, 2015</dd></dl><dl class="f6 lh-copy"><dt class="fw7">Length:</dt><dd class="fw5 ml0">5 minute read, 948 words</dd></dl><dl class="f6 lh-copy"><dt class="fw7">See Also:</dt></dl></details></section><footer class="post-footer"><div class="post-pagination dt w-100 mt4 mb2"></div></footer></article></section></main><footer class="site-footer pv4 bt b--transparent ph5" role="contentinfo"><nav class="db dt-l w-100"><p class="site-copyright f7 db dtc-l v-mid w-100 w-33-l tc tl-l pv2 pv0-l mv0 lh-copy">© 2025 RStudio, Anywhere
<span class="middot-divider"></span>
Made with <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/hugo-apero/" rel="dct:source">Hugo Apéro</a></span>.<br/>Based on <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/formspree/blogophonic-hugo" rel="dct:source">Blogophonic</a></span> by <a xmlns:cc="http://creativecommons.org/ns#" href="https://formspree.io" property="cc:attributionName" rel="cc:attributionURL">Formspree</a>.</p><div class="site-social-links db dtc-l v-mid w-100 w-33-l tc pv2 pv0-l mv0"><div class="social-icon-links" aria-hidden="true"><a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://linkedin.com/in/mike-hicks-a053311/" title="linkedin" target="_blank" rel="me noopener"><i class="fab fa-linkedin fa-lg fa-fw"></i>
</a><a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://github.com/mwhicks1" title="github" target="_blank" rel="me noopener"><i class="fab fa-github fa-lg fa-fw"></i>
</a><a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://scholar.google.com/citations?user=Gggzp7UAAAAJ" title="google-scholar" target="_blank" rel="me noopener"><i class="ai ai-google-scholar fa-lg fa-fw"></i>
</a><a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://dblp.org/pid/h/MichaelWHicks.html" title="dblp" target="_blank" rel="me noopener"><i class="ai ai-dblp fa-lg fa-fw"></i>
</a><a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://orcid.org/0000-0002-2759-9223" title="orcid" target="_blank" rel="me noopener"><i class="ai ai-orcid fa-lg fa-fw"></i>
</a><a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="/blog/index.xml" title="rss"><i class="fas fa-rss fa-lg fa-fw"></i></a></div></div><div class="site-links f6 db dtc-l v-mid w-100 w-67-l tc tr-l pv2 pv0-l mv0"><a class="dib pv1 ph2 link" href="/license/" title="License">License</a>
<a class="dib pv1 ph2 link" href="/contact/" title="Contact form">Contact</a>
<a class="dib pv1 ph2 link" href="/contributors/" title="Contributors">Contributors</a></div></nav><script>var i,text,code,codes=document.getElementsByTagName("code");for(let e=0;e<codes.length;){if(code=codes[e],code.parentNode.tagName!=="PRE"&&code.childElementCount===0&&(text=code.textContent,/^\$[^$]/.test(text)&&/[^$]\$$/.test(text)&&(text=text.replace(/^\$/,"\\(").replace(/\$$/,"\\)"),code.textContent=text),/^\\\((.|\s)+\\\)$/.test(text)||/^\\\[(.|\s)+\\\]$/.test(text)||/^\$(.|\s)+\$$/.test(text)||/^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text))){code.outerHTML=code.innerHTML;continue}e++}</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous"/><script defer="" src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script><script defer="" src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous" onload="renderMathInElement(document.body)"></script></footer></div></body></html>